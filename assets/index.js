!function(){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var a,r=t[Symbol.iterator]();!(i=(a=r.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{i||null==r.return||r.return()}finally{if(o)throw s}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(t,e){if(null==e||"object"!==r(e))return!1;var n="";return Object.keys(e).forEach(function(t){n+="".concat(t,": ").concat(e[t],";")}),t.setAttribute("style",n),t}function h(e,t){return t&&(Array.isArray(t)?t.forEach(function(t){"string"==typeof t&&0<t.length&&e.classList.add(t)}):e.classList.add(t)),e}function d(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(t);return h(i,e),n&&"object"===r(n)&&Object.keys(n).forEach(function(t){return"style"===t?l(i,n[t]):"klasses"===t?h(i,n[t]):i.setAttribute(t,n[t]),null}),i}function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Button",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=d("button",e,3<arguments.length&&void 0!==arguments[3]?arguments[3]:{});return n?i.innerHTML=t:i.textContent=t,i}function a(t){return"Backspace"===t.key||t.ctrlKey&&"Backspace"===t.key||t.shiftKey&&"Backspace"===t.key||t.altKey&&"Backspace"===t.key||t.metaKey&&"Backspace"===t.key||"Delete"===t.key||t.ctrlKey&&"Delete"===t.key||t.shiftKey&&"Delete"===t.key||t.altKey&&"Delete"===t.key||t.metaKey&&"Delete"===t.key||t.ctrlKey&&"x"===t.key.toLowerCase()||t.shiftKey&&"x"===t.key.toLowerCase()||t.altKey&&"x"===t.key.toLowerCase()||t.metaKey&&"x"===t.key.toLowerCase()}function c(t){return!!t.includes(".")&&(t.startsWith("http://")||t.startsWith("https://")?t:"http://".concat(t))}function u(t){for(var e=["DIV","P","H1","H2"],n=t;!e.includes(n.tagName);)n=n.parentNode;return n}function p(t,n){if(t.nodeName===n)return t;if(t.parentNode.nodeName===n)return t.parentNode;var i=!1;return t.children&&Array.from(t.children).forEach(function(t){var e=p(t,n);return!!e&&(i=e)}),i}function n(t,e){return t instanceof Selection&&(e.contains(t.anchorNode)&&e.contains(t.focusNode)||t.containsNode(e,!0))}function g(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];e.collapse(n),t.removeAllRanges(),t.addRange(e)}var t,m=((t={main:"wf__toolbar"}).btn="".concat(t.main,"__btn"),t.btnDisabled="".concat(t.btn,"-disabled"),t.btnActive="".concat(t.btn,"-active"),t.btnCtn="".concat(t.btn,"-ctn"),t.input="".concat(t.main,"__input"),t.inputCtn="".concat(t.input,"-ctn"),t.hideUp="".concat(t.main,"-hide-up"),t.hideDown="".concat(t.main,"-hide-down"),t.wide="".concat(t.main,"-wide"),t),i={init:function(t,e){this.$ctn=d("div",[m.inputCtn,m.hideDown]),this.$input=d("input",m.input,{type:"text"}),this.$closeBtn=o("<b>&times;</b>",m.btn,!0),this.$ctn.appendChild(this.$input),this.$ctn.appendChild(this.$closeBtn),this.$closeBtn.addEventListener("click",this.hide.bind(this)),this.$input.addEventListener("keypress",this.defaultEnterHandler.bind(this)),this.hideCallback=t,e&&e instanceof HTMLElement&&this.appendTo(e)},defaultEnterHandler:function(t){"Enter"===t.key&&(this.saveHandler&&"function"==typeof this.saveHandler&&this.saveHandler.call(this,this.$input.value,this.currentRange),this.preventHideOnEnter||this.hide())},setSaveHandler:function(t){t&&"function"==typeof t&&(this.saveHandler=t)},clearSaveHandler:function(){this.saveHandler=null},getValue:function(){return this.$input.value},display:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";this.$input.placeholder=t,this.$ctn.classList.remove(m.hideDown);var e=window.getSelection();this.currentRange=e.getRangeAt(0),document.createRange().selectNode(this.$input),setTimeout(function(){this.$input.focus()}.bind(this),200)},clear:function(t){this.$input.value="",t&&(this.$input.placeholder=t)},hide:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(this.$ctn.classList.contains(m.hideDown))return!1;if(this.$ctn.classList.add(m.hideDown),this.$input.value="",this.clearSaveHandler(),this.currentRange){var e=window.getSelection(),n=e.getRangeAt(0);e.removeRange(n),e.addRange(this.currentRange)}return t&&this.hideCallback&&"function"==typeof this.hideCallback&&this.hideCallback(),!0},html:function(){return this.$ctn},getWidth:function(){return this.$ctn.getBoundingClientRect().width},getHeight:function(){return this.$ctn.getBoundingClientRect().height},appendTo:function(t){return t.appendChild(this.html()),t}},e={initToolbar:function(t,e){return this.options=e,this.editor=t,this.toolbarOffset=5,this.$ctn=d("div",[m.main,"hide"],{contenteditable:!1}),this.$btnCtn=d("div",m.btnCtn),this.$ctn.appendChild(this.$btnCtn),this.input=Object.create(i),this.editor.$ctn.appendChild(this.$ctn),this},getButtonsWidth:function(){var t=this.$btnCtn.children;return t[0].getBoundingClientRect().width*(1.1*t.length)},getButtonsHeight:function(){return 1.25*this.$btnCtn.firstChild.getBoundingClientRect().height},hideButtons:function(){this.$ctn.style.width="".concat(this.input.getWidth(),"px"),this.$ctn.style.height="".concat(this.input.getHeight(),"px"),this.$btnCtn.classList.add(m.hideUp)},displayButtons:function(){this.$btnCtn.classList.remove(m.hideUp),this.$ctn.style.width="".concat(this.getButtonsWidth(),"px"),this.$ctn.style.height="".concat(this.getButtonsHeight(),"px")},displayInput:function(t){var e=window.getSelection();this.currentRange=e.getRangeAt(0),this.input.display(t)},hideInput:function(){},positionToolbar:function(){var t=window.getSelection();this.currentRange=t.getRangeAt(0);var e=null;e=this.currentRange.collapsed?this.currentRange.commonAncestorContainer.getBoundingClientRect():this.currentRange.getBoundingClientRect();var n=this.$ctn.getBoundingClientRect();e.bottom+this.toolbarOffset+n.height>=window.innerHeight?this.$ctn.style.top="".concat(e.top-(this.toolbarOffset+n.height),"px"):this.$ctn.style.top="".concat(e.bottom+this.toolbarOffset,"px"),this.$ctn.style.left="".concat(e.left,"px")},baseDisplay:function(){return this.input.hide(!1),this.$ctn.classList.remove("hide"),this.positionToolbar(),this.displayButtons(),!0},hide:function(){return this.currentRange=null,this.input.hide(!1),this.displayButtons(),this.$ctn.classList.add("hide"),!!this.$ctn.classList.contains("hide")},html:function(){return this.$ctn},contains:function(t){return this.$ctn.contains(t)}},f={init:function(t,e,n,i){return this.$html=o(t,m.btn,!0,{title:e}),this.setSaveHandler(n),this.appendTo(i),this},setSaveHandler:function(t){return"function"!=typeof t?null:(this.clickHandler&&this.$html.removeEventListener("click",this.clickHandler),this.saveHandler=t,this.$html.addEventListener("click",this.saveHandler),this.saveHandler)},addClass:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];Array.isArray(t)?t.forEach(function(t){e.$html.classList.add(t)}):this.$html.classList.add(t)},removeClass:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];Array.isArray(t)?t.forEach(function(t){e.$html.classList.remove(t)}):this.$html.classList.remove(t)},disable:function(){this.$html.disabled=!0,this.addClass(m.btnDisabled)},enable:function(){this.$html.disabled=!1,this.removeClass(m.btnDisabled)},markActive:function(){this.$html.classList.add(m.btnActive)},markInactive:function(){this.$html.classList.remove(m.btnActive)},html:function(){return this.$html},appendTo:function(t){t&&t instanceof HTMLElement&&t.appendChild(this.html())}},y=Object.create(e);y.init=function(t,e){return this.initToolbar(t,e),this.input.init(this.displayButtons.bind(this),this.$ctn),this.createToolbarBtns(),this},y.createToolbarBtns=function(){this.boldBtn=Object.create(f),this.boldBtn.init("<b>B</b>","Bold Selection",this.editor.boldSelection.bind(this.editor),this.$btnCtn),this.italicBtn=Object.create(f),this.italicBtn.init("<i>i</i>","Italicize Selection",this.editor.italicizeSelection.bind(this.editor),this.$btnCtn),this.headingBtn=Object.create(f),this.headingBtn.init("H","Wrap Selection with Heading",this.editor.wrapHeading.bind(this.editor),this.$btnCtn),this.linkBtn=Object.create(f),this.linkBtn.init("🔗","Wrap Selection with Link",this.linkBtnHandler.bind(this),this.$btnCtn)},y.toggleDisabledButtons=function(){p(this.currentRange.commonAncestorContainer,"H1")||p(this.currentRange.commonAncestorContainer,"H2")?(this.linkBtn.disable(),this.boldBtn.disable(),this.italicBtn.disable()):(this.linkBtn.enable(),this.boldBtn.enable(),this.italicBtn.enable())},y.toggleActiveLink=function(t){var e=p(t.getRangeAt(0).commonAncestorContainer,"A");e&&t.containsNode(e,!0)?(this.linkBtn.markActive(),this.linkBtn.currentLink=e):(this.linkBtn.currentLink=null,this.linkBtn.markInactive())},y.linkBtnHandler=function(){this.linkBtn.currentLink?(this.editor.removeLink(this.linkBtn.currentLink),this.linkBtn.currentLink=null,this.linkBtn.markInactive()):(this.input.setSaveHandler(this.editor.wrapLink),this.hideButtons(),this.input.display("Type a link..."))},y.display=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return t instanceof Selection&&(!n(t,this.$ctn)&&(this.currentRange=t.getRangeAt(0),this.toggleActiveLink(t),this.toggleDisabledButtons(),this.baseDisplay()))};var v=Object.create(e);v.init=function(t,e){return this.initToolbar(t,e),this.toolbarOffset=15,this.createToolbarBtns(),this.input.init(this.hideImageInput.bind(this),this.$ctn),this.input.$input.id="input",this},v.createToolbarBtns=function(){this.imgBtn=Object.create(f),this.imgBtn.init("🖼️","Insert an Image",this.displayImgInput.bind(this),this.$btnCtn),this.lineBtn=Object.create(f),this.lineBtn.init("--","Insert a Horizontal Rule",this.editor.insertLine.bind(this.editor),this.$btnCtn)},v.toggleDisabledButtons=function(){var t=window.getSelection();this.editor.isFirst(t.anchorNode)?this.lineBtn.disable():this.lineBtn.enable()},v.displayImgInput=function(){var t=window.getSelection();this.currentRange=t.getRangeAt(0),this.input.setSaveHandler(this.insertImage.bind(this)),this.input.preventHideOnEnter=!0,this.hideButtons(),this.input.display("Type an image URL...")},v.hideImageInput=function(){this.imgURL=null,this.displayButtons()},v.insertImage=function(){this.imgURL?(this.editor.insertImage(this.imgURL,this.input.getValue(),this.currentRange.startContainer),this.input.hide(),this.displayButtons(),this.hide()):(this.imgURL=c(this.input.getValue()),this.imgURL?this.input.clear("Enter alt text..."):this.input.clear("Type an image URL..."))},v.display=function(){return this.toggleDisabledButtons(),this.baseDisplay()};var w={initWFEditor:function(t,e){return this.$ctn=t,this.options=e,this.generateClasses(),document.execCommand("defaultParagraphSeparator",!1,this.options.divOrPar),this.$innerCtn=d("div",this.classes.main,{style:this.options.containerStyle}),this.$innerCtn.setAttribute("contenteditable",!0),this.$ctn.append(this.$innerCtn),this.createFirstTextSection(),this.editToolbar=y.init(this,this.options),this.insertToolbar=v.init(this,this.options),this.$ctn.addEventListener("paste",this.pasteHandler.bind(this)),this.$ctn.addEventListener("keydown",this.keydownHandler.bind(this)),this.$ctn.addEventListener("keyup",this.keyupHandler.bind(this)),this.$ctn.addEventListener("click",this.checkForInsert.bind(this)),this.$ctn.addEventListener("mouseup",this.positionCursor.bind(this)),document.addEventListener("selectionchange",this.selectionHandler.bind(this)),document.addEventListener("scroll",this.insertToolbar.hide.bind(this.insertToolbar)),this},generateClasses:function(){return this.classes={},this.innerCtnClass="wf__editor",this.classes.main=[this.innerCtnClass],"wf__edtior"!==this.options.containerClass&&this.classes.main.push(this.options.containerClass),this.classes.textSection="wf__text-section",this.classes.containerSection="wf__container-section",this.classes},createFirstTextSection:function(){this.$firstSection||(this.$firstSection=this.createTextSection()),this.$firstSection.textContent="",this.$innerCtn.insertBefore(this.$firstSection,this.$innerCtn.firstChild);var t=window.getSelection(),e=document.createRange();return e.setStart(this.$firstSection,0),e.setEnd(this.$firstSection,0),t.removeAllRanges(),t.addRange(e),window.first=this.$firstSection,this.$firstSection},displayFirstSectionPlaceholder:function(){var t=window.getSelection();t.isCollapsed&&this.isFirst(t.anchorNode)&&t.anchorNode.classList.contains(this.classes.textSection)&&""===t.anchorNode.textContent&&(t.anchorNode.innerHTML="")},createTextSection:function(){Array.isArray(this.options.sectionClass)||(this.options.sectionClass=Array(this.options.sectionClass)),this.options.sectionClass.includes(this.classes.textSection)||this.options.sectionClass.push(this.classes.textSection);var t={style:this.options.sectionStyle,klasses:this.options.sectionClass};return d(this.options.divOrPar,[],t)},createContainerSection:function(t){var e=this.options.sectionStyle,n=d("div",this.classes.containerSection,{style:e});return t&&t instanceof Element&&n.appendChild(t),n},normalizeSection:function(){var t=window.getSelection();try{var e=t.getRangeAt(0),n=u(t.anchorNode),i=u(t.focusNode);n&&n.normalize(),i&&i.normalize(),e.commonAncestorContainer&&e.commonAncestorContainer.normalize()}catch(t){return null}return null},deleteContainerSection:function(t){var e=u(window.getSelection().anchorNode),n=null;return"Backspace"===t.key?n=e.previousSibling:"Delete"===t.key&&(n=e.nextSibling),n&&n.classList.contains(this.classes.containerSection)&&(t.preventDefault(),n.parentNode.removeChild(n)),!1},preventTextInContainer:function(t){var e=window.getSelection(),n=u(e.anchorNode);if(n.classList.contains(this.classes.containerSection)){var i=n.nextSibling;"ArrowUp"===t.key||"ArrowLeft"===t.key?i=n.previousSibling:"ArrowDown"===t.key||"ArrowRight"===t.key?i=n.nextSibling:(!i||i.classList.contains(this.classes.containerSection)||i.classList.contains(this.classes.textSection)&&0<i.textContent.length)&&(i=this.createTextSection(),this.$innerCtn.insertBefore(i,n.nextSibling)),t.preventDefault(),e.collapse(i,0)}},boldSelection:function(){window.getSelection()instanceof Selection&&document.execCommand("bold",!1)},italicizeSelection:function(){window.getSelection()instanceof Selection&&document.execCommand("italic",!1)},wrapHeading:function(){var t,e,n,i=window.getSelection(),o=u(i.anchorNode);if(o.innerHTML=o.innerHTML.replace(/<[^>]+>/g,""),i instanceof Selection){n="H2"===o.tagName?(t=this.options.divOrPar,e=this.options.sectionClass,this.options.sectionStyle):"DIV"===o.tagName||"P"===o.tagName?(t="h1",e=this.options.largeHeadingClass,this.options.largeHeadingStyle):(t="h2",e=this.options.smallHeadingClass,this.options.smallHeadingStyle);var s=document.execCommand("formatBlock",!1,t);if(s){l(o=u(i.anchorNode),n),h(o,e);var a=i.getRangeAt(0);a.selectNode(i.focusNode),a.collapse()}return s}return!1},wrapLink:function(t,e){var n=c(t);if(!n)return!1;var i=d("a");return i.href=n,e.surroundContents(i),g(window.getSelection(),e),i},removeLink:function(t){var e=window.getSelection();this.currentRange=e.getRangeAt(0);var n=document.createRange();n.selectNode(t);var i=document.createTextNode(t.textContent);n.deleteContents(),n.insertNode(i),g(e,n)},insertImage:function(t,e,n){0===n.innerHTML.length&&n.append(document.createElement("br"));var i=window.getSelection(),o=d("img",this.options.imgClass,{src:t,alt:e,style:this.options.imgStyle}),s=this.createContainerSection();o.section=s,o.onerror=function(){o.section.parentNode.removeChild(o.section),alert("Image failed to load.")},n===this.$firstSection&&(this.$firstSection=s),s.appendChild(o),n.parentNode.insertBefore(s,n);var a=document.createRange();a.selectNodeContents(n),g(i,a,!0)},insertLine:function(){var t=window.getSelection(),e=t.getRangeAt(0),n=u(e.startContainer);if(n===this.$firstSection)return!1;var i=document.createElement("hr"),o=this.createContainerSection();return o.appendChild(i),n.parentNode.insertBefore(o,n),(e=document.createRange()).selectNodeContents(n),g(t,e,!0),this.insertToolbar.hide(),!0},selectionHandler:function(t){if("selectionchange"!==t.type)return!1;var e=window.getSelection();return n(e,this.$ctn)&&!e.isCollapsed||n(e,this.editToolbar.html())?this.editToolbar.display(e):this.editToolbar.hide(),!0},pasteHandler:function(t){if(t.preventDefault(),"paste"===!t.type)return!1;var e=t.clipboardData.getData("text/plain");return document.execCommand("insertHTML",!1,e),!0},newLineHandler:function(t){t.preventDefault();var e=window.getSelection(),n=u(e.focusNode),i=this.createTextSection();n.parentNode.insertBefore(i,n.nextSibling);var o=e.getRangeAt(0);if(o.collapsed)try{o.setEndBefore(n.nextSibling),0!==o.toString().length&&i.append(o.cloneContents())}catch(t){i.textContent=""}0===i.textContent.length&&(i.append(document.createElement("br")),i.append(document.createTextNode(""))),o.deleteContents(),0===n.textContent.length&&o.commonAncestorContainer===o.startContainer&&n.append(document.createElement("br"));var s=document.createRange();s.selectNodeContents(i),g(e,s,!0),i.normalize();var a=i.getBoundingClientRect();return a.top>=window.innerHeight&&window.scroll({top:a.top+window.scrollY,behavior:"instant"}),i},keydownHandler:function(t){var e=window.getSelection();a(t)&&("Backspace"===t.key&&0===e.anchorOffset&&e.anchorNode===e.focusNode?this.deleteContainerSection(t):"Delete"===t.key&&e.anchorOffset===e.anchorNode.textContent.length&&e.anchorNode===e.focusNode&&this.deleteContainerSection(t)),"Enter"===t.key&&this.$innerCtn.contains(t.target)&&this.newLineHandler(t),this.preventTextInContainer(t);var n=e.getRangeAt(0),i=u(n.startContainer);this.editToolbar.contains(i)||this.insertToolbar.contains(i)||(this.prevSection=i,this.prevSectionPrevSibling=this.prevSection.previousSibling,this.prevOffset=n.startOffset)},keyupHandler:function(t){if(a(t)){var e=window.getSelection();""!==this.$innerCtn.innerHTML&&"<br>"!==this.$innerCtn.innerHTML&&e.anchorNode!==this.$innerCtn||this.createFirstTextSection(),this.displayFirstSectionPlaceholder()}try{this.normalizeSection(),this.checkForInsert(t),this.positionCursor()}catch(t){return null}return!0},checkForInsert:function(t){if(t&&this.insertToolbar.$ctn.contains(t.target))return!1;var e=window.getSelection();return this.insertToolbar.hide(),!(!e.isCollapsed||!e.anchorNode||""!==e.anchorNode.textContent||n(e,this.insertToolbar.$ctn))&&(this.insertToolbar.display(),!0)},positionCursor:function(){var t=window.getSelection(),e=null;try{e=u(t.anchorNode)}catch(t){return!1}if(this.editToolbar.contains(e)||this.insertToolbar.contains(e))return!1;var n=t.getRangeAt(0);if(!e.classList.contains(this.classes.textSection)&&"H2"!==e.tagName&&"H1"!==e.tagName)if(this.prevSection&&this.$innerCtn.contains(this.prevSection)&&this.prevSection.classList.contains(this.classes.textSection))t.collapse(this.prevSection,this.prevOffset);else{if(!(e=this.prevSectionPrevSibling))return!1;var i=this.createTextSection();e.nextSibling?this.$innerCtn.insertBefore(i,e.nextSibling):this.$innerCtn.appendChild(i),n.selectNodeContents(i),n.collapse(!0)}return!0},load:function(t){var e=new DOMParser,n=t;"string"==typeof t&&(n=e.parseFromString(t,"text/html"));var i=null;try{i=n.body.firstChild}catch(t){return!1}return i&&i.classList.contains(this.innerCtnClass)&&(this.$ctn.removeChild(this.$innerCtn),this.$ctn.appendChild(i),this.$innerCtn=i),this.$ctn.contains(i)},html:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.$innerCtn.cloneNode(!0);return e.setAttribute("contenteditable",t),e.outerHTML},getToolbar:function(){return this.editToolbar},isFirst:function(t){return this.$innerCtn.children[0]===t}},b={"font-size":"1.25rem","max-width":"35rem","margin-left":"auto","margin-right":"auto"},C=Object.assign({},b);C["font-size"]="2rem";var $=Object.assign({},b);$["font-size"]="1.5rem";var k=Object.assign({},b),S={divOrPar:"p",sectionClass:"",sectionStyle:b,containerClass:"",containerStyle:{"min-height":"2em","max-width":k["max-width"]="100%",margin:"1em auto",padding:"0em 1.5rem","font-size":"1.25rem","font-family":"'Crimson Text', serif",outline:"none",color:"#333"},largeHeadingClass:"",largeHeadingStyle:C,smallHeadingClass:"",smallHeadingStyle:$,imgClass:"",imgStyle:k,emptyPlaceholder:"Try writing here..."};var L=function(t){return t&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},T=function(t,e,n,i,o,s){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+a+(o?"; domain="+o:"")+(i?"; path="+i:"")+(s?"; secure":""),!0},x="ISAEmail_config";function H(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=document.createElement(t);return i&&"object"===r(i)&&Object.keys(i).forEach(function(t){var e,n;return"style"===t?function(t,e){if(null==e||"object"!==r(e))return;var n="";Object.keys(e).forEach(function(t){n+="".concat(t,": ").concat(e[t],";")}),t.setAttribute("style",n)}(o,i[t]):"klasses"===t?(e=o,(n=i[t])&&(Array.isArray(n)?n.forEach(function(t){"string"==typeof t&&0<t.length&&e.classList.add(t)}):e.classList.add(n))):"textContent"===t?o.textContent=i[t]:"innerHTML"===t?o.innerHTML=i[t]:o.setAttribute(t,i[t]),null}),o}function E(t){return!!t.includes(".")&&(t.startsWith("http://")||t.startsWith("https://")?t:"http://".concat(t))}function B(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e.innerHTML=t,Array.isArray(e.klasses)?(e.klasses.push("standardBtn"),e.klasses.push("standardBtn--dark")):e.klasses=["standardBtn","standardBtn--dark"],H("button",e)}function I(e,t){return!!(e instanceof Element&&Array.isArray(t))&&(t.forEach(function(t){if(!(t instanceof Element))throw Error("Child ".concat(t," is not an HTML Element"));e.appendChild(t)}),e)}var R={init:function(){this.createOverlay(),this.createWindow(),this.createControlButtons(),this.keydownHandler=function(t){"Enter"===t.key?this.$saveBtn.click():"Escape"===t.key&&this.$closeBtn.click()}.bind(this),this.clickOffHandler=function(t){t.target===this.$overlay&&this.hide()}.bind(this)},createOverlay:function(){return this.$overlay=H("div",{klasses:["modal-overlay"]}),document.body.appendChild(this.$overlay),this.overlay},createWindow:function(){return this.$window=H("div",{klasses:"modal-window",id:"main-modal"}),this.$overlay.appendChild(this.$window),this.window},createControlButtons:function(){return this.$btnCtn=H("div"),this.$saveBtn=B("Save",{style:{"margin-right":"1rem"}}),this.$saveBtn.addEventListener("click",function(){this.$saveBtn.saveHandler&&"function"==typeof this.$saveBtn.saveHandler&&this.$saveBtn.saveHandler()}.bind(this)),this.$closeBtn=B("Close"),this.$closeBtn.addEventListener("click",this.hide.bind(this)),this.$btnCtn.appendChild(this.$saveBtn),this.$btnCtn.appendChild(this.$closeBtn),this.$window.appendChild(this.$btnCtn),this.$btnCtn},setSaveHandler:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return e&&"function"==typeof e?(this.$saveBtn.innerHTML=t,this.$saveBtn.saveHandler=e,this.$saveBtn.classList.remove("hide"),!0):(this.$saveBtn.classList.add("hide"),!1)},adjustHeight:function(){this.$window.getBoundingClientRect().height>window.innerHeight?this.$window.classList.add("no-transform"):this.$window.classList.remove("no-transform")},display:function(t){return this.$currentContent&&this.$window.removeChild(this.$currentContent),this.$currentContent=t,this.$window.insertBefore(this.$currentContent,this.$btnCtn),this.$overlay.style.display="block",this.adjustHeight(),document.addEventListener("keydown",this.keydownHandler),document.addEventListener("click",this.clickOffHandler),this.$overlay},hide:function(){document.removeEventListener("keydown",this.keydownHandler),document.removeEventListener("click",this.clickOffHandler),this.$overlay.style.display="none",this.$currentContent&&this.$window.removeChild(this.$currentContent),this.$currentContent=null,this.$saveBtn.saveHandler=null}},A={initField:function(t,e,n){this.docInfo=t,this.ctn=H("div",{klasses:["settingsField"],style:{"text-align":"left"}}),(e&&"function"==typeof e||null===e)&&(this.save=e),(n&&"function"==typeof n||null===n)&&(this.load=n)}},M={init:function(t,e,n,i,o){return this.targetID=n,this.initField(t,i,o),this.html=document.getElementById("targetID"),this.ctn.appendChild(H("label",{textContent:e})),this.input=H("input",{type:"text"}),this.errorMessage=H("div",{klasses:["settingsField__error--message"]}),this.ctn.classList.add("settingsField--transition"),I(this.ctn,[this.input,this.errorMessage]),this},save:function(){this.docInfo[this.targetID]=this.input.value,this.html&&(this.textContent=this.input.value)},load:function(){this.input.value=this.docInfo[this.targetID]},showError:function(t){this.errorMessage.textContent=t,this.errorMessage.style.display="block",this.input.classList.add("settingsField--error")},hideError:function(){this.errorMessage.textContent="",this.errorMessage.style.display="none",this.input.classList.remove("settingsField--error")},display:function(){this.prevValue&&(this.input.value=this.prevValue),this.ctn.style.maxHeight="10em",this.hidden=!1},hide:function(){this.prevValue=this.input.value,this.input.value="",this.ctn.style.maxHeight=0,this.hidden=!0},value:function(){return this.input.value}},F=Object.assign(M,A),O={init:function(t,e,n,i,o){this.targetID=n,this.initField(t,i,o),this.labelCtn=H("label",{klasses:["switch"]}),this.labelTxt=H("span",{klasses:["sitch-text"],textContent:e}),this.input=H("input",{type:"checkbox",checked:"true"}),this.slider=H("span",{klasses:["slider"]}),I(this.labelCtn,[this.labelTxt,this.input,this.slider]),this.ctn.appendChild(this.labelCtn)},save:function(){this.docInfo[this.targetID]=this.input.checked},load:function(){this.input.checked=this.docInfo[this.targetID]},value:function(){return this.input.checked}},D=Object.assign(O,A),_={init:function(t,e,n){this.fieldTitle=e,this.targetID=n,this.initField(t),this.html=document.getElementById(n),this.switchField=Object.create(D),this.textField=Object.create(F),this.switchField.init(this.docInfo.links,"Include ".concat(e," Link:"),"",null,null),this.textField.init(this.docInfo.links,"".concat(e," URL:")),this.switchField.ctn.classList.remove("settingsField"),this.textField.ctn.classList.remove("settingsField"),this.showError=this.textField.showError.bind(this.textField),this.hideError=this.textField.hideError.bind(this.textField),I(this.ctn,[this.switchField.ctn,this.textField.ctn]),this.switchField.input.addEventListener("change",this.switchChangeListener.bind(this))},setHTML:function(){if(this.html)if(this.switchField.value()){var t=E(this.textField.value());if(!t)throw Error("Invalid URL");this.html.href=t,this.html.style.display="block"}else this.html.style.display="none"},switchChangeListener:function(){!0===this.switchField.value()?this.textField.display():this.textField.hide()},save:function(){var t=null;if(!0===this.switchField.value()){var e=E(this.textField.value());if(!e)throw Error("Invalid URL");this.html&&(this.html.href=e),t={text:this.html?this.html.textContent:null,url:e}}this.setHTML(),this.docInfo[this.targetID]=t},load:function(){this.docInfo[this.targetID]?(this.switchField.input.checked=!0,this.textField.input.value=this.docInfo[this.targetID].url,this.textField.display()):(this.switchField.input.checked=!1,this.textField.hide()),this.setHTML()}},N=Object.assign(_,A),j={$ctn:H("div"),$heading:H("h1",{textContent:"Settings"}),init:function(t,e){return this.modal=t,this.docInfo=e,this.$ctn.innerHTML="",this.$ctn.appendChild(this.$heading),this.generateFields(),this},generateFields:function(){this.fields=[];var t=Object.create(F);t.init(this.docInfo,"Email Title","title");var e=Object.create(N);e.init(this.docInfo.links,"Advising Session","advisingLink");var n=Object.create(N);n.init(this.docInfo.links,"Application Link","applicationLink"),this.fields.push(t,e,n),this.loadFields()},loadFields:function(){var e=this;this.fields.forEach(function(t){t.load(t.input),e.$ctn.appendChild(t.ctn)})},display:function(){return this.loadFields(),this.modal.setSaveHandler("Save",this.save.bind(this)),this.modal.display(this.$ctn)},save:function(){var n=[];return this.fields.forEach(function(e){try{e.hideError&&e.hideError(),e.save()}catch(t){if(!e.showError)throw t;e.showError(t.message),n.push(t)}}),0===n.length&&this.modal.hide(),!0}},W={$ctn:H("div"),$heading:H("h1",{textContent:"Copy Your Email"}),$description:H("p"),$textarea:H("textarea",{style:{width:"35rem",height:"10rem",resize:"vertical"}}),init:function(t){return this.modal=t,this.$description.textContent="Copy the code for your email below.",this.$ctn.appendChild(this.$heading),this.$ctn.appendChild(this.$description),this.$ctn.appendChild(this.$textarea),this},fillText:function(t){return this.$textarea.value=t,this.$textarea},copyContents:function(){var e;this.$textarea.focus(),this.$textarea.select();try{e=document.execCommand("copy")}catch(t){e=!1}return this.$description.textContent=e?(this.$heading.textContent="Email Content Copied!","You can now paste the email content into GRS."):(this.$heading.textContent="Uh oh...","We couldn't copy the email content. Try again or manually copy the content below"),e},display:function(){return this.modal.setSaveHandler("Copy",this.copyContents.bind(this)),this.modal.display(this.$ctn)},displayAndCopy:function(t){return this.fillText(t),this.display(),this.copyContents()}},P={display:"inline-block",width:"13em",height:"7em"},z={fileType:"ISAEmail_config",$ctn:H("div"),$heading:H("h1",{textContent:"Save / Load an Email"}),$loadBtn:B("Load a Previous Email",{style:P}),$saveBtn:B("Save Current Email",{style:P}),$btnSeparator:H("div",{style:{width:"1px",height:"10rem",background:"#ddd",display:"inline-block","vertical-align":"middle",margin:"1rem 2rem"}}),init:function(t,e,n){return this.modal=t,this.loadCallback=e,this.getDocInfo=n,this.$ctn.append(this.$heading),this.$ctn.append(this.$loadBtn),this.$ctn.append(this.$btnSeparator),this.$ctn.append(this.$saveBtn),this.$loadBtn.addEventListener("click",this.load.bind(this)),this.$saveBtn.addEventListener("click",this.save.bind(this)),this},load:function(t){t.preventDefault();var e=H("input",{type:"file",style:{display:"none"}});e.addEventListener("change",this.parseFile.bind(this)),document.body.appendChild(e),e.click(),document.body.removeChild(e)},parseFile:function(t){var e=this,n=t.target.files[0];if(!n)return!1;var i=new FileReader;return i.onload=function(){var t=JSON.parse(i.result);return"ISAEmail_config"!==!t.fileType&&(e.loadCallback(t),e.modal.hide(),t)},i.readAsText(n),!0},save:function(t){t.preventDefault();var e=this.getDocInfo();if(!e)return!1;e.fileType=this.fileType;var n,i,o=JSON.stringify(e),s=H("a",{href:"data:text/plain;charset=utf-8,".concat(encodeURIComponent(o)),download:"".concat((n=e.title,i=n.replace(/\/|\\|\?|%|\*|\|"|'|<|>'/g,""),i=(i=i.replace(/:/g,"-")).replace(/ /g,"_")),".isaemail"),style:{display:"none"}});return document.body.appendChild(s),s.click(),document.body.removeChild(s),this.modal.hide(),!0},display:function(){return this.modal.setSaveHandler("Ok",this.modal.hide()),this.modal.display(this.$ctn)}},G={init:function(t,e,n){var i=this;return this.initHTML(),this.$heading.textContent=t,this.steps=e,this.modal=n,this.steps.map(function(t){return i.$allSteps.appendChild(t.cloneNode(!0))}),this.$ctn.appendChild(this.$heading),this.$btnCtn.appendChild(this.$prevBtn),this.$btnCtn.appendChild(this.$displayAllBtn),this.$btnCtn.appendChild(this.$nextBtn),this.$ctn.appendChild(this.$btnCtn),this.setCurrentStep(0),this.$nextBtn.addEventListener("click",this.nextStep.bind(this)),this.$prevBtn.addEventListener("click",this.prevStep.bind(this)),this.$displayAllBtn.addEventListener("click",this.toggleDisplayAll.bind(this)),this},initHTML:function(){this.$ctn=H("div"),this.$heading=H("h1"),this.$allSteps=H("div"),this.$btnCtn=H("div"),this.$prevBtn=B("Previous"),this.$nextBtn=B("Next"),this.$displayAllBtn=B("Display All Steps",{klasses:["standardBtn--margin-right-large","standardBtn--margin-left-large"]})},setCurrentStep:function(t){if("all"!==String(t).toLowerCase()&&!this.steps[t])return!1;var e=null;return"all"===this.currentStep?this.$ctn.removeChild(this.$allSteps):0<=this.currentStep&&this.$ctn.removeChild(this.steps[this.currentStep]),this.currentStep=t,e="all"===String(t).toLowerCase()?this.$allSteps:this.steps[t],this.$ctn.appendChild(e),this.toggleDisabledButtons(),!0},toggleDisabledButtons:function(){var t=!1,e=!1,n="Display All Steps";"all"===this.currentStep?(t=e=!0,n="Display Single Step"):(n="Display All Steps",t=!this.steps[this.currentStep-1],e=!this.steps[this.currentStep+1]),this.$prevBtn.disabled=t,this.$nextBtn.disabled=e,this.$displayAllBtn.textContent=n},prevStep:function(){"all"!==this.currentStep&&this.steps[this.currentStep-1]&&this.render(this.currentStep-1)},nextStep:function(){"all"!==this.currentStep&&this.steps[this.currentStep+1]&&this.render(this.currentStep+1)},toggleDisplayAll:function(){"all"===this.currentStep?this.render(0):this.render("all")},render:function(t){var e=t;0<=e||"all"===e||(e=this.currentStep),this.setCurrentStep(e),this.modal.display(this.$ctn)}};function U(e){document.disableFunction&&(document.removeEventListener("click",document.disableFunction,!0),document.removeEventListener("mousedown",document.disableFunction,!0),document.removeEventListener("mouseup",document.disableFunction,!0),document.disableFunction=null),e&&e instanceof Element&&(document.disableFunction=function(t){return!(e instanceof Element&&e.contains(t.target))&&(this.$exitBtn.contains(t.target)?U.call(this):(t.preventDefault(),t.stopPropagation(),!0))}.bind(this),document.addEventListener("click",document.disableFunction,!0),document.addEventListener("mousedown",document.disableFunction,!0),document.addEventListener("mouseup",document.disableFunction,!0))}var Y=[{target:"tutorialExitBtn",description:"\n      <p>Click this button at any time to exit this tutorial.</p>\n    "},{target:"wfeditor",description:"\n      <p>This is the editor and preview section. This section allows you to compose and edit your email.</p>\n    "},{target:"controller",description:"\n      <p>These buttons allow you to manipulate your email in a broad manner, similar to the File menu in most programs.</p>\n    "},{target:"metaDisplayCtn",description:"\n      <p>You can see important info about your email here, such as its title.</p>\n    "},{target:"helpBtnCtn",description:"\n      <p>Click this button if you ever need help with ISA Easy Email or if you would like to go through this tutorial again.</p>\n    "}];var K=function(){var i,e,t,o,n=[],s=0,a=B("Next");function r(){var t,e,n;o=i.firstChild.firstChild,t=o,e=window.getSelection(),(n=document.createRange()).selectNodeContents(t),e.removeAllRanges(),e.addRange(n)}function l(){return n[s+=1]?(n[s].call(this),null):this.nextStep()}function h(){a.handler&&a.removeEventListener("click",a.handler),a.handler=l.bind(this),a.addEventListener("click",a.handler)}function d(e){document.disableFunction?(document.removeEventListener("click",document.disableFunction,!0),document.removeEventListener("mousedown",document.disableFunction,!0),document.removeEventListener("mouseup",document.disableFunction,!0),document.disableFunction=null):(document.disableFunction=function(t){return!(e instanceof Element&&e.contains(t.target))&&(this.$exitBtn.contains(t.target)?d.call(this):(t.preventDefault(),t.stopPropagation(),!0))}.bind(this),document.addEventListener("click",document.disableFunction,!0),document.addEventListener("mousedown",document.disableFunction,!0),document.addEventListener("mouseup",document.disableFunction,!0))}return n[0]=function(){this.$window.innerHTML="\n      <p>\n        Let's talk about the editor first. It allows you to easily compose an\n        email complete with images, links, and common styling elements.\n      </p>\n    ",h.call(this),this.$window.appendChild(a)},n[1]=function(){var t="Hello Students!";this.$window.innerHTML="\n      <p>\n        Let's see what this thing can do! Try typing \"".concat(t,'" in the editor.\n      </p>\n    ');var e=function(){o.textContent===t&&(i.removeEventListener("keyup",e),l.call(this))}.bind(this);i.addEventListener("keyup",e)},n[2]=function(){var t=this;this.$window.innerHTML="\n      <p>\n        Perfect. Did you notice I highlighted the text you entered?\n        Highlighting text will bring up the editing toolbar which allows you to\n        manipulate the text.\n      </p>\n    ",d.call(this,a),setTimeout(function(){r(),setTimeout(function(){h.call(t),t.$window.appendChild(a)},750)},250)},n[3]=function(){var t=this;this.$window.innerHTML='\n      <p>\n        The "B" button bolds your selection.\n      </p>\n    ',r(),setTimeout(function(){d.call(t),e.bold.click(),d.call(t),setTimeout(function(){d.call(t),e.bold.click(),d.call(t,a),t.$window.appendChild(a)},750)},250),h.call(this),e.bold.prevBorder=e.bold.style.borderColor,e.bold.style.borderColor="white"},n[4]=function(){var t=this;this.$window.innerHTML='\n      <p>\n        The "i" button italicizes your selection.\n      </p>\n    ',r(),setTimeout(function(){d.call(t),e.italic.click(),d.call(t),setTimeout(function(){d.call(t),e.italic.click(),d.call(t,a),t.$window.appendChild(a)},750)},250),h.call(this),e.bold.style.borderColor=e.bold.prevBorder,e.italic.prevBorder=e.italic.style.borderColor,e.italic.style.borderColor="white"},n[5]=function(){var t=this;this.$window.innerHTML='\n      <p>\n        The "H" button wraps your selection in a heading. There are two heading\n        styles to choose from. Clicking this button will cycle through the\n        heading and normal styles.\n      </p>\n    ',r(),setTimeout(function(){d.call(t),e.heading.click(),d.call(t,a),r(),setTimeout(function(){r(),d.call(t),e.heading.click(),d.call(t,a),r(),setTimeout(function(){r(),d.call(t),e.heading.click(),d.call(t,a),r(),t.$window.appendChild(a)},750)},750)},250),h.call(this),e.italic.style.borderColor=e.italic.prevBorder,e.heading.prevBorder=e.heading.style.borderColor,e.heading.style.borderColor="white"},n[6]=function(){this.$window.innerHTML="\n      <p>\n        The link button wraps your selection in a link. Pressing this button\n        will bring up an interface to insert your link. Just type or paste the URL,\n        press enter, and you're good to go!\n      </p>\n    ",r(),h.call(this),this.$window.appendChild(a),e.heading.style.borderColor=e.heading.prevBorder,e.link.prevBorder=e.link.style.borderColor,e.link.style.borderColor="white"},n[7]=function(){this.$window.innerHTML="\n      <p>\n        Let's create a heading. Go ahead and click the heading button. (The one outlined in white.)\n      </p>\n      <p><i>Hint: if you can't see the editing toolbar, try selecting the text again</i></p>\n    ",d.call(this),d.call(this,e.heading),e.heading.tutClickHandler=function(){e.heading.style.borderColor=e.heading.prevBorder,d.call(this),e.heading.removeEventListener("click",e.heading.tutClickHandler),l.call(this)}.bind(this),e.heading.addEventListener("click",e.heading.tutClickHandler),r(),e.link.style.borderColor=e.link.prevBorder,e.heading.prevBorder=e.heading.style.borderColor,e.heading.style.borderColor="white"},n[8]=function(){this.$window.innerHTML='\n      <p>\n        Cool, right? Let\'s throw an image into the mix now. First, press "Enter"\n        to go to a new line.\n      </p>\n    ',i.tutKeyListener=function(t){"Enter"===t.key&&(l.call(this),i.removeEventListener("keyup",i.tutKeyListener))}.bind(this),i.addEventListener("keyup",i.tutKeyListener)},n[9]=function(){this.$window.innerHTML="\n      <p>\n        Are you on a new line? Is it empty? Awesome! You should now see the\n        insert toolbar. This toolbar allows you to insert an image or a horizontal\n        rule (a line to separate sections).\n      </p>\n      <p>\n        To add an image, click the image button (it's highlighted in white).\n      </p>\n      <p><i>If you don't see the insert toolbar make sure you are on an empty line.</i></p>\n    ",d.call(this,t.image),t.image.tutClickHandler=function(){t.image.style.borderColor=t.image.prevBorder,t.image.removeEventListener("click",t.image.tutClickHandler),d.call(this),l.call(this)}.bind(this),t.image.addEventListener("click",t.image.tutClickHandler),t.image.prevBorder=t.image.style.borderColor,t.image.style.borderColor="white"},n[10]=function(){this.positionWindow(i);var e="http://studiesabroad.com/html-email-files/images/scot.jpg";this.$window.innerHTML="\n      <p>\n        Notice how the toolbar changed? You can now type or paste the url for\n        the image you would like to add. Go ahead and copy and paste the URL below,\n        then press enter.\n      </p>\n      <p>\n        ".concat(e,"\n      </p>\n    ");var n=!1;i.tutEnterHandler=function(t){"Enter"===t.key&&(n?(i.removeEventListener("keyup",i.tutEnterHandler),this.$window.innerHTML="\n          <p>\n            Alt text is <strong>VERY</strong> important because it is displayed when\n            the image doesn't load. This is important because many email clients\n            disable automatic image loading by default and because those with\n            visual impairments rely on the alt text to know what the image is\n            supposed to convey.\n          </p>\n        ",h.call(this),this.$window.appendChild(a)):(n=!0,this.$window.innerHTML='\n          <p>\n            Now that you\'ve entered the URL, you need to add the alt text. Your\n            alt text should describe what the image is supposed to convey. For\n            instance, you could put the following alt text in for the image you\n            are adding:\n          </p>\n          <p>"The beautifully jagged landscape of Scotland at sunrise."</p>\n          <p>\n            Copy and paste the example text above and press enter again to\n            finalize your image.\n          </p>\n          <p><i>If you loose the insert toolbar, just click on the empty line,\n          then click the image icon and repaste the url:<br/><br/>\n          '.concat(e,"</i></p>\n        ")))}.bind(this),i.addEventListener("keyup",i.tutEnterHandler)},n[11]=function(){this.$window.innerHTML="\n      <p>\n        Our email is looking pretty good, now, isn't it? If you decide you don't\n        like the image or anything else, you can just click in the line below it\n        and press \"Backspace.\" Oh, and remember that adding links is similar to\n        adding images: just choose the text you want to use as your link, press\n        the link button, and paste or type the URL to which you want to link.\n      </p>\n    ",h.call(this),this.$window.appendChild(a)},n[12]=function(){this.$window.innerHTML='\n      <p>\n        That just about wraps up the Editor section of this tutorial. There\'s a\n        lot more to explore though so take some time after this tutorial to play\n        around with it! In the meantime, click "Next" below to continue to the\n        next section of this tutorial.\n      </p>\n    ',h.call(this),this.$window.appendChild(a)},function(){h.call(this),i=document.getElementById("wfeditor"),e={bold:document.querySelector('[title="Bold Selection"]'),italic:document.querySelector('[title="Italicize Selection"]'),heading:document.querySelector('[title="Wrap Selection with Heading"]'),link:document.querySelector('[title="Wrap Selection with Link"]')},t={image:document.querySelector('[title="Insert an Image"]'),line:document.querySelector('[title="Insert a Horizontal Rule"]')},o=i.querySelector(".wf__text-section"),this.highlight(i),this.positionWindow(i),n[s=0].call(this)}}(),V=function(){var t,e,i,n=[],o=0,s=B("Next");function a(){return n[o+=1]?(n[o].call(this),null):this.nextStep()}function r(t){var e;s.handler&&s.removeEventListener("click",s.handler),e=t&&"function"==typeof t?t.bind(this):a.bind(this),s.handler=e,s.addEventListener("click",s.handler)}function l(t){var e=t;return function(){var t=this;this.highlight(i),this.minimizeOverlay(),e.removeEventListener("click",e.tutClickHandler),U.call(this),this.$window.display="none",setTimeout(function(){t.$window.display="block",t.positionWindow(i)},100),a.call(this)}.bind(this)}function h(t){var e=t;return function(){this.maximizeOverlay(),U.call(this),e.removeEventListener("click",e.tutClickHandler),a.call(this)}.bind(this)}return n[0]=function(){this.$window.innerHTML="\n      <p>\n        This is the Controller. It provides broad functionality that affects the\n        editor and/or your email as a whole.\n      </p>\n    ",U.call(this,s),this.positionWindow(t),r.call(this),this.$window.appendChild(s)},n[1]=function(){this.$window.innerHTML='\n      <p>\n        The "Start Over" button has a fairly obvious purpose. Just be careful as\n        you will loose all your work if you press it.\n      </p>\n    ',this.positionWindow(e.startOver),r.call(this),this.$window.appendChild(s)},n[2]=function(){this.$window.innerHTML='\n      <p>\n        The "Copy Code" button will copy the source code of your email to your\n        clipboard so you can paste it into the GRS HTML Template editor.\n      </p>\n    ',this.positionWindow(e.copyCode),r.call(this),this.$window.appendChild(s)},n[3]=function(){this.$window.innerHTML='\n      <p>Go ahead and give the "Copy Code" button a click to see what happens.</p>\n    ',U.call(this,e.copyCode),e.copyCode.tutClickHandler=l.call(this,e.copyCode),e.copyCode.addEventListener("click",e.copyCode.tutClickHandler)},n[4]=function(){this.$window.innerHTML='\n      <p>\n        This is the code copying interface. ISA Easy Email will attempt to copy\n        the code straight to your clipboard as soon as you click the "Copy Code"\n        button but this doesn\'t always work due to browser settings (especially\n        Firefox).\n      </p>\n      <p>\n        Regardless, you can view and copy the code in the textbox here. You can\n        try to copy again using the "Copy" button or you can right-click to copy\n        the text straight from the textbox.\n      </p>\n      <p>\n        Press "Close" to continue.\n      </p>\n    ';var t=i.lastChild.lastChild;t.tutClickHandler=h.call(this,t),t.addEventListener("click",t.tutClickHandler),U.call(this,t)},n[5]=function(){this.$window.innerHTML='\n      <p>\n        The "Save / Load" button, you guessed it, let\'s you save your email or\n        load up previous emails! This is super helpful if you want to share a\n        template with someone else or if you want to come back to your email\n        later.\n      </p>\n    ',r.call(this),this.$window.appendChild(s),U.call(this,s),this.highlight(t),this.positionWindow(e.saveLoad)},n[6]=function(){this.$window.innerHTML='\n      <p>\n        The "Settings" button allows you to adjust a few settings in the email.\n        Go ahead and give it a click.\n      </p>\n    ',e.settings.tutClickHandler=l.call(this,e.settings),e.settings.addEventListener("click",e.settings.tutClickHandler),U.call(this,e.settings),this.positionWindow(e.settings)},n[7]=function(){this.$window.innerHTML="\n      <p>\n        Here you can see the settings you can adjust within your email.\n      </p>\n    ",r.call(this),this.$window.appendChild(s),U.call(this,s)},n[8]=function(){this.$window.innerHTML="\n      <p>\n        The Email Title allows you to easily keep track of your ISA Easy Email\n        files. Your email is automatically given a title based on the date and\n        time it was created but you can change it here. The title of the current\n        email is displayed in the bottom right of the screen and is used as the\n        name of the file when you save your work.\n      </p>\n      <p>\n        <i>Recipients of the email won't see the title.</i>\n      </p>\n    ";var t=i.querySelector(".settingsField");r.call(this),this.$window.appendChild(s),U.call(this,s),this.positionWindow(t)},n[9]=function(){var t="Fun Tutorial Email";this.$window.innerHTML="\n      <p>\n        Let's try changing the Email Title to something more useful. Try\n        changing it to the following:\n      </p>\n      <p>\n        \"".concat(t,'"\n      </p>\n    ');var e=i.querySelector(".settingsField"),n=e.querySelector("input");n.tutKeyHandler=function(){n.value===t&&(n.removeEventListener("keyup",n.tutKeyHandler),a.call(this))}.bind(this),n.addEventListener("keyup",n.tutKeyHandler),U.call(this,e)},n[10]=function(){this.$window.innerHTML="\n      <p>\n        Perfect. The following fields allow you to manipulate the two large\n        buttons at the bottom of the email. These buttons provide links to a\n        place to book an advising session (eg. SimpleBook.me) and to the online\n        application. They have default values but you can choose to override\n        them here.\n      </p>\n    ",r.call(this),this.$window.appendChild(s),U.call(this,s)},n[11]=function(){this.$window.innerHTML="\n      <p>\n        For instance, let's say we <strong>don't</strong> want to include an\n        advising session link but <strong>do</strong> want to provide a link to\n        an online application, but at a new location.\n      </p>\n      <p>\n        First, let's get rid of that advising session link. You can remove it by\n        clicking the toggle switch after \"Include Advising Session Link\". Try\n        this now.\n      </p>\n    ";var t=i.querySelectorAll(".settingsField")[1],e=t.querySelector(".switch");e.tutChangeHandler=function(t){t.target.removeEventListener("change",t.target.tutChangeHandler),a.call(this)}.bind(this),e.addEventListener("change",e.tutChangeHandler),U.call(this,t),this.highlight(t),this.positionWindow(t)},n[12]=function(){var t="google.com";this.$window.innerHTML="\n      <p>\n        Did you notice how the text box for the advising session URL went away?\n        Once you hit save the link itself will be removed from the email, too.\n        Pretty neat, right?\n      </p>\n      <p>\n        Now let's change the URL for the link to the online application. We'll\n        just set it to something easy, like google for now. Change the contents\n        of the Application Link URL box to say \"".concat(t,'".\n      </p>\n    ');var e=i.querySelectorAll(".settingsField")[2],n=e.querySelector('input[type="text"]');n.tutKeyHandler=function(){n.value===t&&(n.removeEventListener("keyup",n.tutKeyHandler),a.call(this))}.bind(this),n.addEventListener("keyup",n.tutKeyHandler),this.highlight(e),this.positionWindow(e),U.call(this,n)},n[13]=function(){this.$window.innerHTML='\n      <p>\n        Awesome! Now click "Save" to save these settings.\n      </p>\n    ';var t=i.lastChild.firstChild;t.tutClickHandler=h.call(this,t),t.addEventListener("click",t.tutClickHandler),U.call(this,t)},n[14]=function(){this.$window.innerHTML="\n      <p>\n        That's it for the controller section. Check out the email now: it only\n        has the application link. You should also notice that the title in the\n        bottom right of the corner has changed.\n      </p>\n    ",U.call(this),this.positionWindow(t),r.call(this),this.$window.appendChild(s)},function(){return t=document.getElementById("controller"),e={startOver:document.getElementById("startoverBtn"),copyCode:document.getElementById("copyCodeBtn"),saveLoad:document.getElementById("saveLoadBtn"),settings:document.getElementById("settingsBtn")},this.highlight(t),i=document.getElementById("main-modal"),n[0].call(this),null}}();var q=0,J={$overlay:H("div",{klasses:["modal-overlay","tutorial-overlay"]}),$window:H("div",{klasses:["tutorial-window"]}),$exitBtn:B("&times;",{klasses:["tutorial-exit"],id:"tutorialExitBtn"}),steps:[],minimizedOverlayStyle:{position:"static",width:"1px",height:"1px",zIndex:"1"},init:function(){return q=0,this.$exitBtn.addEventListener("click",this.hide.bind(this)),this.$overlay.appendChild(this.$exitBtn),this.$overlay.appendChild(this.$window),document.body.appendChild(this.$overlay),this},beginTutorial:function(){this.resetWindowPosition(),q=0,this.display(),this.steps[q].call(this)},nextStep:function(){return q+=1,this.steps[q]?(this.steps[q].call(this),null):this.hide()},resetWindowPosition:function(){this.$window.style.left="",this.$window.style.right="",this.$window.style.top="",this.$window.style.bottom="",this.$window.classList.contains("vertical-center")&&this.$window.classList.remove("vertical-center")},positionWindow:function(t){var e=this.$window.getBoundingClientRect(),n=t.getBoundingClientRect();this.resetWindowPosition(),window.innerWidth-e.width>n.right?this.$window.style.left=n.right+20:this.$window.style.right=window.innerWidth-n.left+20,n.top+e.height<window.innerHeight?this.$window.style.top=n.top:this.$window.style.bottom=20},highlight:function(t){this.releaseHighlighted(),"wfeditor"===(this.highlightedHTML=t).id&&(this.highlightedHTML.style.background="white"),this.highlightedHTML.prevPos=this.highlightedHTML.style.position,this.highlightedHTML.prevZ=this.highlightedHTML.style.zIndex,"controller"===this.highlightedHTML.id?this.highlightedHTML.style.position="absolute":"wfeditor"===this.highlightedHTML.id&&(this.highlightedHTML.style.position="relative"),this.highlightedHTML.style.zIndex="10"},releaseHighlighted:function(){this.highlightedHTML&&(this.highlightedHTML.style.position=this.highlightedHTML.prevPos,this.highlightedHTML.style.zIndex=this.highlightedHTML.prevZ,"wfeditor"===this.highlightedHTML.id&&(this.highlightedHTML.style.background=""))},display:function(){this.$overlay.style.display="block"},hide:function(){this.releaseHighlighted(),this.$overlay.style.display="none",window.location.reload()},minimizeOverlay:function(){var e=this;Object.keys(this.minimizedOverlayStyle).forEach(function(t){e.$overlay.style[t]=e.minimizedOverlayStyle[t]}),this.$window.style.zIndex="1000"},maximizeOverlay:function(){this.$overlay.style="",this.$overlay.style.display="block"},centerWindow:function(){this.$window.classList.add("vertical-center"),this.$window.style=""}};J.steps[0]=function(){var e=0,n=B("Continue");U.call(this,n),n.addEventListener("click",function(){if(0===e&&this.$window.classList.remove("vertical-center"),!Y[e])return U.call(this),this.nextStep();var t=document.getElementById(Y[e].target);return this.highlight(t),this.positionWindow(t),this.$window.innerHTML=Y[e].description,this.$window.appendChild(n),e+=1,null}.bind(this)),this.$window.innerHTML='\n    <h1>Welcome!</h1>\n    <p>\n      This tutorial is designed to take you through the core features and\n      functions of the ISA Easy Email Generator. We\'ll start with a basic\n      overview of the layout of the page. Click "Continue" below to begin.\n    </p>\n  ',this.$window.appendChild(n),this.centerWindow()},J.steps[1]=K,J.steps[2]=V,J.steps[3]=function(){var t=B("Exit Tutorial");t.addEventListener("click",this.hide.bind(this)),this.$window.innerHTML='\n    <h1>And That\'s It!</h1>\n    <p>\n      Hopefully this tutorial has given you a bit of insight into how to\n      effectively use ISA Easy Email. I encourage you to play around with the\n      editor and explore all its functionality! You should also read the "GRS\n      Help" and "Images Help" in the Help section so you can take full advantage\n      of ISA Easy Email!\n    </p>\n  ',this.$window.appendChild(t),this.centerWindow()};var Z=[];Z[0]=["1. Open GRS's HTML Template Editor",'\n  <p>\n    Your first step in sending your email through GRS is creating a template\n    shell to contain your email content. To start, navigate to the\n    <a href="https://grs.studiesabroad.com/tools/" target="_blank">GRS Tools</a>\n    section. Then, click <a href="https://grs.studiesabroad.com/htmltemplate" target="_blank">"HTML Template Editor"</a>\n    (shown below).\n  </p>\n  <img class=\'img-max-width\' src="./assets/images/grs-help/grs-tools.png" alt="Location of the GRS HTML Template Editor.">\n'],Z[1]=["2. Create a New Template",'\n  <p>\n    You should now be in the HTML Template Editor seeing a screen similar to\n    that below. Click "New Template" at the top of the screen.\n  </p>\n  <img class=\'img-max-width\' src="./assets/images/grs-help/template-landing.png" alt="Initial screen of the GRS HTML Template Editor.">\n  <p>\n    You should now see the screen below. Click "Standar Email" to begin creating\n    your template shell.\n  </p>\n  <img class=\'img-max-width\' src="./assets/images/grs-help/new-template.png" alt="Creating a Standar Email">\n'],Z[2]=["3. Complete Template Settings",'\n  <p>\n    You are now ready to begin creating your template. You will see a screen\n    like the one below. Fill out the information as laid out below:\n  </p>\n  <dl>\n    <dt>Template Name</dt>\n    <dd>\n      Choose a descriptive name for your email. This is for internal use only\n      and won\'t be visible to anyone receiving the email.\n    </dd>\n    <dt>Business Division</dt>\n    <dd>Choose the appropriate business division (ISA, WSISACP, etc).</dd>\n    <dt>Category</dt>\n    <dd>\n      Choose the appropriate category (Interested Student, Admissions Email, etc).\n      Please note that different categories may have additional options in this\n      section (eg. Admissions Email have a subcategory option). Choose the options\n      best suited to your use case.\n    </dd>\n    <dt>Include Unsubscribe Link</dt>\n    <dd>Choose "Yes" - <strong>Always</strong> choose Yes.</dd>\n    <dt>Teplate Width (px)</dt>\n    <dd>Type in "600". It defaults to 650 but the format works best at 600px.</dd>\n    <dt>Template Status</dt>\n    <dd>Choose "Active".</dd>\n    <dt>When to Send</dt>\n    <dd>Choose the most appropriate option. In general, this will be "Manual".</dd>\n    <dt>Email To</dt>\n    <dd>Again, choose the most appropriate option. In general, this will be "Primary Email".</dd>\n  </dl>\n  <p>\n    Your setting should now look something like the image below. You now move on\n    to the next step. Click on "Header" at the top. Do <strong>not</strong> click "Save".\n    </p>\n  <img class=\'img-max-width\' src="./assets/images/grs-help/template-settings.png" alt="Initial template settings">\n'],Z[3]=["4. Add Email Headers",'\n  <p>\n    Headers are what keeps our HTML emails uniform and identifiable. As such,\n    it is important that we include them on every email we send. After clicking\n    "Header" at the top, you will be brought to a screen with several check boxes.\n    Check the boxes so your settings look like the image below:\n  </p>\n  <img class=\'img-max-width\' src="./assets/images/grs-help/header-options.png" alt="Appropriate header options">\n  <p>\n    Ensure "Use General Header?" and "Use General Footer?" are both checked. Once\n    you check "Use General Header?" you will be presented with options for\n    choosing the Google Campaign Name, Campaign Source, and Campaign Medium. These\n    are used by marketing to track the success of email campaigns. You should\n    coordinate with the marketing department to determine the best values of these\n    fields for your email.\n  </p>\n  <p>\n    Once your settings look similar to those above, move on to the next step by\n    clicking "Content" at the top of the page. Do <strong>not</strong> click "Save".\n  </p>\n'],Z[4]=["5. Finish the Template Shell",'\n  <p>\n    Clicking "Content" at the top of the page will bring you to the standard\n    interface for adding content to your email. This is the interface we are\n    circumventing by using the ISA Easy Email Generator. However, we still need\n    to use it actually insert our generated content into the email in GRS.\n  </p>\n  <p>Start by filling out the Email Subject, Preview, and Title fields as follows:</p>\n  <dl>\n    <dt>Email Subject</dt>\n    <dd>This is the subject of your email. Your subject should be captivating but concise.</dd>\n    <dt>Email Preview</dt>\n    <dd>\n      This is the small blurb displayed to recipients in their email client\n      before actually opening the email. You should write a sentence or two here\n      which summarizes your email and/or entices your recipient to open your email.\n    </dd>\n    <dt>Email Title</dt>\n    <dd>\n      In general, leave this blank. This will insert a large title at the very\n      beginning of your email (before even the header).\n    </dd>\n  </dl>\n  <p>\n    To finish your template shell, you should enter a word or two in the "Body"\n    section. This will allow you to finally click that "Save" button and have\n    GRS save your email template. Remember the template title so you can find it\n    later.\n  </p>\n'],Z[5]=["6. Insert Your Content",'\n  <p>\n    Once your Template Shell is created in GRS, you are ready to compose your\n    email in the ISA Easy Email Generator. To do this, simply press "Copy Code"\n    in the ISA Easy Email Generator to copy the source code of the contents of\n    your email. Then, navigate to the "Content" section of your Template Shell in\n    GRS, click the "<>Source" button in the Body section, and paste your email\n    in the body section (see image below). Click "Save" and your email\'s contents will be saved in\n    GRS. Click "Preview" at the top to ensure your email has been successfully\n    saved.\n  </p>\n  <img class=\'img-max-width\' src="./assets/images/grs-help/insert-source.png" alt="Inserting source code into the GRS HTML Template Editor.">\n'];var Q=[];function X(t){var e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("h2");e.appendChild(i),e.appendChild(n);var o=s(t,2);return i.textContent=o[0],n.innerHTML=o[1],e.classList.add("max-35"),e}Q[0]=["1. Preparing to Add Your Image",'\n  <p>\n    Before you can add any images to your email, you must first decide where they\n    are going to live. If you have found an image online (make sure it has a\n    license allowing for commercial use!) you can choose to either just copy its\n    address (right click > "Copy image address" or "Copy Image Location") and\n    paste it into the ISA Easy Email Generator. If you have an image saved to\n    your computer, it needs to be uploaded it to the ISA server. To do so, you must\n    first create a template shell in GRS\'s HTML Template editor. See the\n    "GRS Help" section to learn how to do this.\n  </p>\n  <p>\n    Once you have created your template shell, you will need to navigate to the\n    "Content" section of your template shell. From here, click the "Image" button\n    in the editor control panel (see below) to launch the Image Properties editor.\n  </p>\n  <img class="img-max-width" src="assets/images/img-help/add-image-btn.png" alt="Location of the Image button in the GRS HTML Template Editor.">\n'],Q[1]=["2. Uploading Your Image to the ISA Server",'\n  <p>\n    You should now see a window like that below. Click the "Browse Server" button\n    to launch the server file browser.\n  </p>\n  <img class="img-max-width" src="./assets/images/img-help/image-properties-browse.png" alt="The Image Properties box.">\n  <p>\n    The File Browser (see below) functions similarly to that on Windows or Mac.\n    Choose the best folder in which to store your image, then click "Upload" in\n    the upper-left to upload your image. Once it has been uploaded, double click\n    it to select it and return to the "Image Properties" window.\n  </p>\n  <img class="img-max-width" src="./assets/images/img-help/file-browser.png" alt="GRS\'s image file browser">\n'],Q[2]=["3. Copying the Image URL",'\n  <p>\n    The "Image Properties" box should now have the URL to your image in its URL\n    box. Select the entire URL and copy it. You will paste this into the ISA\n    Easy Email Generator. Once you have copied the URL, click "Cancel" to close\n    the Image Properties window. You can now return to the ISA Easey Email Generator\n    to paste your image URL. You do not need to do anything else for your image\n    in GRS.\n  </p>\n  <img class="img-max-width" src="./assets/images/img-help/copy-url.png" alt="Copying the image URL from the Image Properties window">\n'];var tt=Z.map(X),et=Q.map(X),nt={display:"block",padding:"2em 1rem","margin-left":"auto","margin-right":"auto",width:"20em"};function it(){this.modal.setSaveHandler("Back to Help",this.display.bind(this))}var ot={$ctn:H("div"),$heading:H("h1",{textContent:"Help"}),$description:H("div",{innerHTML:'\n  <p>Welcome to the ISA Easy Email Generator! This editor is here to provide\n  a simple, easy-to-use tool to compose your HTML emails. Though this editor\n  offers an alternative to GRS\'s HTML template editor, you will still need to\n  use the GRS editor to actually create and send your email.</p>\n\n  <p>If it\'s your first time using this editor, please click the "Tutorial"\n  button below to learn about its features and how to use them. You should also\n  read the "GRS Help" and "Images Help" sections below to learn about how you\n  should create the GRS portion of your email and add images to the ISA server\n  for use here.</p>\n',style:{"text-align":"left","max-width":"35em",margin:"2em auto"}}),$tutorialBtn:B("Tutorial<br/>(unsaved progress will be lost)",{style:nt}),$grsBtn:B("GRS Help",{style:nt}),$imagesBtn:B("Images Help",{style:nt}),init:function(t){this.modal=t,this.baseElements=[this.$heading,this.$description,this.$tutorialBtn,this.$grsBtn,this.$imagesBtn],this.tutorial=Object.create(J),this.tutorial.init(),this.$tutorialBtn.addEventListener("click",this.startTutorial.bind(this)),window.tut=this.tutorial,this.grsHelp=Object.create(G),this.grsHelp.init("Add and Send Your Email in GRS",tt,this.modal),this.$grsBtn.addEventListener("click",this.displayGRSTutorial.bind(this)),this.imgHelp=Object.create(G),this.imgHelp.init("Add Images to Your Email",et,this.modal),this.$imagesBtn.addEventListener("click",this.displayImagesTutorial.bind(this)),this.setBaseView()},startTutorial:function(){this.modal.hide(),this.tutorial.beginTutorial()},displayGRSTutorial:function(){this.modal.hide(),it.call(this),this.grsHelp.render(0)},displayImagesTutorial:function(){this.modal.hide(),it.call(this),this.imgHelp.render(0)},setBaseView:function(){var e=this;this.$ctn.innerHTML="",this.baseElements.forEach(function(t){return e.$ctn.appendChild(t)}),this.modal.setSaveHandler(null)},display:function(){this.setBaseView(),this.modal.display(this.$ctn)}},st="ISAEasyEmailTutorial",at={divOrPar:"p",containerStyle:{"box-sizing":"border-box",padding:"20px 5px",width:"600px"},largeHeadingStyle:{"font-family":"'Helvetica', sans-serif","font-weight":"normal","font-size":"24px",color:"#333","padding-left":"10px","padding-right":"10px"},smallHeadingStyle:{"font-family":"'Helvetica', sans-serif","font-weight":"normal","font-size":"20px",color:"#888","padding-left":"10px","padding-right":"10px"},imgStyle:{"max-width":"100%","text-align":"center",margin:"1em auto"},sectionStyle:{overflow:"hidden",width:"100%","padding-left":"10px","padding-right":"10px","box-sizing":"border-box","font-family":"Times","font-size":"16px","line-height":"1.25em"},emptyPlaceholder:"Compose your email here..."};var rt,lt,ht={docInfo:{fileType:x,dateCreated:(rt=new Date,lt={},lt.year=rt.getFullYear(),lt.month=rt.getMonth()+1,lt.dateNum=rt.getDate(),lt.hours=rt.getHours(),lt.minutes=rt.getMinutes(),Object.keys(lt).forEach(function(t){var e=String(lt[t]);lt[t]=e.length<2?"0".concat(e):e}),"".concat(lt.year,"-").concat(lt.month,"-").concat(lt.dateNum," ").concat(lt.hours,":").concat(lt.minutes))},init:function(){var t;return this.btns={$startoverBtn:document.getElementById("startoverBtn"),$copyCodeBtn:document.getElementById("copyCodeBtn"),$saveLoadBtn:document.getElementById("saveLoadBtn"),$settingsBtn:document.getElementById("settingsBtn"),$helpBtn:document.getElementById("helpBtn")},this.$copyTargetCtn=document.getElementById("copyTargetCtn"),this.$copyTargetInnerCtn=document.getElementById("copyTargetInnerCtn"),this.$copyTargetBottomBtns=document.getElementById("copyTarget-bottomBtns"),this.$bottomBtns=document.getElementById("bottomBtns"),this.$metaDisplay=document.getElementById("metaDisplay"),this.editorCtn=document.getElementById("wfeditor"),this.editor=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=(e=Object.create(S),n&&"object"===r(n)&&Object.keys(n).forEach(function(t){e[t]=n[t]}),e),o=document.createElement("style"),s='@import url("https://fonts.googleapis.com/css?family=Crimson+Text:400,700|Roboto");@keyframes fade-in {  from {    opacity: 0; }  to {    opacity: 1; } }@keyframes expand-width {  from {    width: 0; }  to {    width: 15em; } }.wf__toolbar {  position: fixed;  display: inline-block;  font-family: "Roboto", sans-serif;  background: linear-gradient(#555, #222);  padding: 0.25em 0.25rem;  border-radius: 0.25em;  box-shadow: 0.1rem 0.1rem 1rem 0.1rem rgba(0, 0, 0, 0.55);  animation: fade-in 0.15s ease-out;  transition: width 0.2s;  overflow: hidden;  min-width: 1em;  max-height: 1.9em; }  .wf__toolbar__btn-ctn {    transition: transform 0.2s; }  .wf__toolbar__btn {    box-sizing: border-box;    margin: 0 0.1rem;    background: none;    color: #fff;    border: 1px solid transparent;    border-radius: 0.25em;    transition: all 0.2s;    font-size: 1em;    width: 2em;    height: 1.75em;    line-height: 1.25em;    text-align: center;    padding: 0.25em 0.25rem;    outline: none;    z-index: 0;    vertical-align: baseline; }  .wf__toolbar__btn:hover {    border-color: #fff;    background: rgba(255, 255, 255, 0.075); }  .wf__toolbar__btn:active {    border-color: #bbb;    background: rgba(0, 0, 0, 0.2); }  .wf__toolbar__btn-active {    color: #A9D943;    border-color: #A9D943; }  .wf__toolbar__btn-disabled {    color: #666; }  .wf__toolbar__btn-disabled:hover {    border-color: transparent;    background: none; }  .wf__toolbar__input-ctn {    box-sizing: border-box;    position: absolute;    width: 15em;    height: 100%;    top: 0;    left: 0;    z-index: 1;    padding: 0.25em 0.25rem;    animation: fade-in 0.15s ease-out;    transition: all 0.2s; }    .wf__toolbar__input-ctn button {      display: inline-block;      position: absolute;      right: 0;      margin-right: 0; }  .wf__toolbar__input {    display: inline-block;    max-width: 100%;    height: 100%;    margin: 0;    padding: 0;    border: none;    outline: none;    background: none;    color: white;    padding-left: 0.1rem;    font-size: 1em; }  .wf__toolbar-hide-up {    transform: translateY(-150%);    visibility: hidden; }  .wf__toolbar-hide-down {    transform: translateY(150%);    visibility: hidden; }  .wf__toolbar-wide {    width: 15em; }  .wf__toolbar.hide {    display: none !important; }.wf__editor p:first-child:empty:not(:focus)::before,.wf__editor div:first-child:empty:not(:focus)::before {  content: "placeholder_text";  color: grey;  font-style: italic; }/*# sourceMappingURL=site.css.map */'.replace("placeholder_text",i.emptyPlaceholder);o.appendChild(document.createTextNode(s)),document.getElementsByTagName("head")[0].appendChild(o);var a=Object.create(w);return a.initWFEditor(t,i),{html:a.html.bind(a),load:a.load.bind(a)}}(this.editorCtn,at),this.setDocInfo(),this.initModalViews(),document.addEventListener("click",this.buttonClickHandler.bind(this)),window.ed=this.editor,window.docInfo=this.docInfo,L(st)||(this.helpView.startTutorial(),t=new Date,T(st,t.toUTCString())),this},initModalViews:function(){this.modal=Object.create(R),this.modal.init(),this.settingsview=Object.create(j),this.settingsview.init(this.modal,this.docInfo),this.copyview=Object.create(W),this.copyview.init(this.modal),this.saveLoadView=Object.create(z),this.saveLoadView.init(this.modal,this.setDocInfo.bind(this),this.getDocInfo.bind(this)),this.helpView=Object.create(ot),this.helpView.init(this.modal)},initDocInfo:function(){if(!this.docInfo.contents){var e=this.editor;Object.defineProperty(this.docInfo,"contents",{configurable:!1,writeable:!0,enumerable:!0,get:function(){return e.html(!0)},set:function(t){return e.load(t)}})}if(!this.docInfo.title){var n="",i=this.$metaDisplay;if(Object.defineProperty(this.docInfo,"title",{configurable:!1,writeable:!0,enumerable:!0,set:function(t){n=t,i.textContent=t},get:function(){return n}}),!this.docInfo.links){var t=document.getElementById("advisingLink"),o=document.getElementById("applicationLink");this.docInfo.links={advisingLink:{text:t.textContent,url:t.href},applicationLink:{text:o.textContent,url:o.href}}}this.docInfo.title="ISA Email ".concat(this.docInfo.dateCreated)}},setDocInfo:function(){var e=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.initDocInfo(),n&&n.title&&n.contents){if(n.fileType!==x)return!1;Object.keys(n).forEach(function(t){e.docInfo[t]=n[t]})}return this.settingsview&&this.settingsview.init(this.modal,this.docInfo),this.docInfo},getDocInfo:function(){return this.docInfo},loadEditorFile:function(t){this.editor.load(t.contents)},buttonClickHandler:function(t){t.target===this.btns.$startoverBtn?window.location.reload():t.target===this.btns.$copyCodeBtn?(this.$copyTargetInnerCtn.innerHTML=this.editor.html(),this.$copyTargetBottomBtns.innerHTML=this.$bottomBtns.innerHTML,this.$copyTargetBottomBtns.querySelectorAll("a").forEach(function(t){if("none"===t.style.display){var e=function t(e,n){return!e||e&&"string"!=typeof e?document:n&&(!n||n instanceof Element)?n.tagName===e.toUpperCase()||n===document?n:t(e,n.parentNode):document}("TR",t);e.parentNode.removeChild(e)}}),this.copyview.displayAndCopy(this.$copyTargetCtn.outerHTML),this.btns.$copyCodeBtn.blur()):t.target===this.btns.$saveLoadBtn?(this.saveLoadView.display(),this.btns.$saveLoadBtn.blur()):t.target===this.btns.$settingsBtn?(this.settingsview.display(),this.btns.$settingsBtn.blur()):t.target===this.btns.$helpBtn&&(this.helpView.display(),this.btns.$settingsBtn.blur())}};document.addEventListener("DOMContentLoaded",ht.init.bind(ht))}();
